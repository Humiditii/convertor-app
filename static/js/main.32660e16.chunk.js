(this.webpackJsonpconvertor=this.webpackJsonpconvertor||[]).push([[0],{20:function(e,t,n){e.exports={register:"Signup_register__2BtQD"}},44:function(e,t,n){},45:function(e,t,n){e.exports={Loader:"Preloader_Loader__2k0RY",load2:"Preloader_load2__18rC-"}},47:function(e,t,n){e.exports={home:"home_home__21_Nu"}},49:function(e,t,n){e.exports={extract:"fileExtract_extract__1LA74"}},50:function(e,t,n){e.exports=n(79)},56:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(52),n(4)),l=n(23),i=n.n(l),c=(n(56),n(16)),u=n(7),s=n(42),m=n(1),d={error:!1,loading:!1,token:null,userId:null,authMsg:null,signupMsg:null,toBeRedirected:!1,mismatch:null},p=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{mismatch:"Password Mismatch"})},f=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})},g=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1})},h=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{toBeRedirected:!0})},E=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{error:null,loading:!1,toBeRedirected:!0,signupMsg:t.signupMsg})},v=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{toBeRedirected:!0})},b=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,token:t.token,userId:t.userId,role:t.role,authMsg:t.authMessage,toBeRedirected:!0,error:!1})},O=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{token:null,userId:null,role:null,authMsg:null,toBeRedirected:!1})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return f(e);case"AUTH_FAIL":return g(e,t);case"AUTH_SUCCESS":return b(e,t);case"SIGNUP":return E(e,t);case"AUTH_LOGOUT":return O(e);case"MISMATCH":return p(e);case"LOGIN":return v(e);case"REDIRECT":return h(e);default:return e}},j=n(15),S={filename:null,filecontent:[],dateConverted:null,loading:!1,error:null,message:null,fileDetails:[],fileEmpty:null},w=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})},k=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error})},N=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fileDetails:Object(j.a)(t.fileDetails),loading:!1})},C=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fileEmpty:t.emptyFIle})},I=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fileEmpty:null})},_=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{filename:t.filename,filecontent:Object(j.a)(t.fileContent),loading:!1})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CONVERSION":return w(e);case"CONVERSION_SUCCESS":return _(e,t);case"CONVERSION_FAILED ":return k(e,t);case"GET_CONVERTED_FILES":return N(e,t);case"EMPTY_FILE":return C(e,t);case"CLEAR_MESSAGE":return I(e);default:return e}},A=n(3),D=function(e){return e.children},R=n(5),M=n(6),L=n(9),F=n(8),x=function(e){return r.a.createElement("li",null,r.a.createElement(o.b,{to:e.link},e.navname))},H=n(43),U=n.n(H),B=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".sidenav");return U.a.Sidenav.init(e)}))}},{key:"render",value:function(){var e={links:["/","/login","/register"],name:["Home","Login","Register"]};return this.props.token&&(e={links:["/","/files_converted","/convert","/logout"],name:["Home","Files Converted","Convert","Logout"]}),r.a.createElement(D,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper  indigo lighten-1"},r.a.createElement(o.b,{to:"#",className:"brand-logo"},"Convertor"),r.a.createElement(o.b,{to:"#","data-target":"mobile-demo",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},e.links.map((function(t,n){return r.a.createElement(x,{key:n,link:t,navname:e.name[n]})}))))),r.a.createElement("ul",{className:"sidenav sidenav-close",id:"mobile-demo"},e.links.map((function(t,n){return r.a.createElement(x,{key:n,link:t,navname:e.name[n]})}))))}}]),n}(a.Component),P=Object(u.b)((function(e){return{token:e.auth.token}}))(Object(A.g)(B)),G=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement("div",{className:"page-footer  indigo lighten-1"},r.a.createElement("div",{className:"footer-copyright"},r.a.createElement("div",{className:"container",align:"center"},"Developed by Anjonix Vyte Technology \xa9 ",(new Date).getFullYear()," Copyright Text"))))}}]),n}(a.Component),V=n(44),W=n.n(V),Y=function(e){return r.a.createElement(D,null,r.a.createElement(P,null),e.children,r.a.createElement(G,{className:W.a.footer}))},X=n(18),z=function(e){return r.a.createElement(D,null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("i",{className:"material-icons prefix"},e.iconname),r.a.createElement("input",{id:e.inputid,type:e.inputtype,onChange:e.changed}),r.a.createElement("label",{htmlFor:e.inputid},e.labelname)))},J=Object(A.g)((function(e){var t=["btn waves-effect waves btn-medium  ","material-icons left"],n=e.btncolour;t[0]=t[0]+n;var a=r.a.createElement("button",{type:e.action,className:t[0]},r.a.createElement("i",{className:t[1]},e.iconname),e.btnname);return"link"===e.actionType&&(a=r.a.createElement(o.b,{type:e.action,to:e.whereto,className:t[0]},r.a.createElement("i",{className:t[1]},e.iconname),e.btnname)),r.a.createElement(D,null,a)})),q=n(20),K=n.n(q),Q=n(45),$=n.n(Q),Z=function(){return r.a.createElement(D,null,r.a.createElement("div",{className:$.a.Loader},"Loading..."),r.a.createElement("p",{align:"center",style:{color:"indigo"}},"Loading..."))},ee=n(46),te=n.n(ee).a.create({baseURL:"http://localhost:3333/api/v1/"}),ne=function(e,t,n,a){return{type:"AUTH_SUCCESS",token:t,userId:e,role:n,authMessage:a}},ae=function(e){return{type:"AUTH_FAIL",error:e}},re=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("message"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},oe=function(e){return function(t){setTimeout((function(){t(re())}),e)}},le=function(){return function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(re());else{var a=localStorage.getItem("userId"),r=localStorage.getItem("message");e(ne(a,t,r)),e(oe(n.getTime()-(new Date).getTime()))}}else e(re())}},ie=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:null,password:null,confirmPwd:null},e.inputHandler=function(t,n){var a=Object(m.a)(Object(m.a)({},e.state),{},Object(X.a)({},n,t.target.value));e.setState(a)},e.onSubmitHandler=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password;n.confirmPwd!==r?e.props.mismatch():e.props.onSignUp(a,r)},e}return Object(M.a)(n,[{key:"render",value:function(){var e=this,t={name:["email","password","confirmPwd"],type:["text","password","password"],icon:["mail","security","security"]},n=r.a.createElement(D,null,r.a.createElement("div",{className:"row z-depth-5"},r.a.createElement("h5",{className:K.a.register,align:"center"},"Get Started With Convertor"),r.a.createElement("p",{align:"center",style:{color:"red"}},this.props.signupMsg?"Email already exist":null),r.a.createElement("p",{align:"center",style:{color:"red"}},this.props.pwdMismatch),r.a.createElement("p",{align:"center",style:{color:"red"}},this.props.error),r.a.createElement("form",{className:"col s12",onSubmit:this.onSubmitHandler},t.name.map((function(n,a){return r.a.createElement(z,{key:a,inputid:n,iconname:t.icon[a],inputtype:t.type[a],labelname:n,changed:function(t){return e.inputHandler(t,n)}})})),r.a.createElement("div",{align:"center"},r.a.createElement(J,{action:"submit",btncolour:"indigo",btnname:"Register",iconname:"directions_bike"})),r.a.createElement("div",null,r.a.createElement("p",{className:K.a.register},"Alread have an account?",r.a.createElement(o.b,{style:{color:"indigo"},to:"/login"}," ",r.a.createElement("u",null,"Login")))))));return this.props.loading&&(n=r.a.createElement(Z,null)),this.props.toBeRedirected?r.a.createElement(A.a,{to:"/login"}):r.a.createElement(D,null,r.a.createElement("div",{className:"container",style:{paddingTop:"50px",minHeight:"100vh"}}," ",r.a.createElement("br",null),n))}}]),n}(a.Component),ce=Object(u.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,toBeRedirected:e.auth.toBeRedirected,signupMsg:e.auth.signupMsg,pwdMismatch:e.auth.mismatch}}),(function(e){return{onSignUp:function(t,n){e(function(e,t){return function(n){n({type:"AUTH_START"});var a={email:e,password:t};te.post("/auth/signup",a,{headers:{"Content-Type":"application/json"}}).then((function(e){n({type:"SIGNUP",signupMsg:e.data.message})})).catch((function(e){n(ae(e.message))}))}}(t,n))},mismatch:function(){e({type:"MISMATCH"})}}}))(ie),ue=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:null,password:null},e.inputHandler=function(t,n){var a=Object(m.a)(Object(m.a)({},e.state),{},Object(X.a)({},n,t.target.value));e.setState(a)},e.onSubmitHandler=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password;e.props.onSignIn(a,r)},e}return Object(M.a)(n,[{key:"render",value:function(){var e=this,t={name:["email","password"],type:["text","password"],icon:["account_circle","security"]},n=r.a.createElement(D,null,r.a.createElement("div",{className:"row z-depth-5"},r.a.createElement("h5",{className:K.a.register,align:"center"},"Welcome Back, KIndly Login"),r.a.createElement("p",{align:"center",style:{color:"red"}},this.props.error),r.a.createElement("form",{className:"col s12",onSubmit:this.onSubmitHandler},t.name.map((function(n,a){return r.a.createElement(z,{key:a,inputid:n,iconname:t.icon[a],inputtype:t.type[a],labelname:n,changed:function(t){return e.inputHandler(t,n)}})})),r.a.createElement("div",{align:"center"},r.a.createElement(J,{action:"submit",btncolour:"indigo",btnname:"Login",iconname:"send"})),r.a.createElement("div",null,r.a.createElement("p",{className:K.a.register},"New here?, Please Register here ",r.a.createElement(o.b,{style:{color:"indigo"},className:"waves-effect",to:"/register"}," ",r.a.createElement("u",null,"Register")))))));return this.props.loading&&(n=r.a.createElement(Z,null)),this.props.token?r.a.createElement(A.a,{to:"/convert"}):r.a.createElement(D,null,r.a.createElement("div",{className:"container",style:{paddingTop:"50px",minHeight:"100vh"}}," ",r.a.createElement("br",null),r.a.createElement(D,null,n)))}}]),n}(a.Component),se=Object(u.b)((function(e){return{message:e.auth.authMsg,error:e.auth.error,token:e.auth.token,loading:e.auth.loading,toBeRedirected:e.auth.toBeRedirected}}),(function(e){return{onSignIn:function(t,n){e(function(e,t){return function(n){n({type:"AUTH_START"});var a={email:e,password:t};te.post("/auth/signin",a,{headers:{"Content-Type":"application/json"}}).then((function(e){if("User does not exist"===e.data.message)return n(ae(e.data.message));if("Invalid Password"===e.data.message)return n(ae(e.data.message));var t=e.data.token,a=e.data.userId,r=e.data.Message,o=new Date((new Date).getTime()+828e5);localStorage.setItem("token",t),localStorage.setItem("userId",a),localStorage.setItem("message",r),localStorage.setItem("expirationDate",o),n(ne(a,t,r)),n({type:"REDIRECT"}),n(oe(828e5))})).catch((function(e){n(ae(e.message))}))}}(t,n))}}}))(ue),me=n(47),de=n.n(me),pe=function(){return r.a.createElement(D,null,r.a.createElement("div",{className:de.a.home},r.a.createElement("h5",null,"Welcome to the convertor app")," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Converts a regular pattern of XML files and extract the texts out of the xml tags, all you need to do is Signup then proceed to signin to be able to upload files and convert. You can also view the lists of the converted files you have in your database."))," ",r.a.createElement("br",null),r.a.createElement("div",{align:"center"},r.a.createElement(J,{btncolour:"indigo",btnname:"Get Started",actionType:"link",iconname:"directions_bike",whereto:"/register"}))))},fe=n(48),ge=n(31),he=function(e){return{type:"CONVERSION_FAILED ",error:e}},Ee=function(e,t){return function(n){n({type:"INIT_CONVERSION"});var a=new FormData;a.append("file",t,t.name);var r={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e}};te.post("/convert/upload",a,r).then((function(e){var t,a=[],r=Object(fe.a)(e.data.file_content);try{for(r.s();!(t=r.n()).done;){var o=t.value;a.push(o)}}catch(l){r.e(l)}finally{r.f()}n(function(e,t){var n=Object(ge.a)(t).slice(0);return{type:"CONVERSION_SUCCESS",filename:e,fileContent:Object(j.a)(n)}}(e.data.file_name,a))})).catch((function(e){n(he(e))}))}},ve=function(e){return function(t){t({type:"INIT_CONVERSION"});var n={headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}};te.get("/convert/files",n).then((function(e){t(function(e){var t=Object(ge.a)(e).slice(0);return{type:"GET_CONVERTED_FILES",fileDetails:Object(j.a)(t)}}(Object(j.a)(e.data.data)))})).catch((function(e){t(he(e))}))}},be=n(49),Oe=n.n(be),ye=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedFile:null},e.onFileChange=function(t){e.setState({selectedFile:t.target.files[0]})},e.handleSubmit=function(t){t.preventDefault(),e.state.selectedFile?e.props.onUploadFile(e.props.token,e.state.selectedFile):(e.props.onFileEmpty(),e.props.onClear())},e}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.onAutoSignIn()}},{key:"render",value:function(){var e=r.a.createElement("div",{className:Oe.a.extract},r.a.createElement("h5",null,"Upload A XML File To Convert"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,this.props.fileEmpty),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn indigo"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",onChange:this.onFileChange})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text"}))),r.a.createElement("div",{align:"center"},r.a.createElement(J,{action:"submit",btncolour:"indigo",btnname:"Extract",iconname:"send"})))),this.props.fileContent.map((function(e,t){return r.a.createElement("p",{align:"center",key:t},e)})));return this.props.loading&&(e=r.a.createElement(Z,null)),this.props.token?r.a.createElement(D,null,r.a.createElement("div",{style:{minHeight:"100vh"}},e)):r.a.createElement(A.a,{to:"login"})}}]),n}(a.Component),je=Object(u.b)((function(e){return{token:e.auth.token,fileContent:Object(j.a)(e.convert.filecontent),loading:e.convert.loading,fileEmpty:e.convert.fileEmpty}}),(function(e){return{onUploadFile:function(t,n){e(Ee(t,n))},onFileEmpty:function(){e({type:"EMPTY_FILE",emptyFIle:"Empty File, Please Select A Valid XML File"})},onClear:function(){e((function(e){setTimeout((function(){e({type:"CLEAR_MESSAGE"})}),3e3)}))},onAutoSignIn:function(){e(le())}}}))(ye),Se=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickHandler=function(e){e.preventDefault(),alert("Hello")},e}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.onAuthoSignIn(),this.props.onGetFiles(this.props.token)}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement("h5",{align:"center"},"List of files Converted")," ",r.a.createElement("br",null),r.a.createElement("p",{align:"center"},"Content appears here once the show bittom is clicked"),r.a.createElement("div",{className:"responsive-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Date(YYYY-MM-DD)"),r.a.createElement("th",null,"View"))),r.a.createElement("tbody",null,this.props.fileDetails.map((function(t,n){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.file_name),r.a.createElement("td",null,(new Date).getFullYear(t.convert_date)+"-"+(new Date).getMonth(t.convert_date)+"-"+(new Date).getDate(t.convert_date)),r.a.createElement("td",null,r.a.createElement("form",{onSubmit:e.onClickHandler},r.a.createElement(J,{action:"submit",btncolour:"indigo",btnname:"Show",iconname:"face"}))))}))))));return this.props.token?r.a.createElement(D,null,r.a.createElement("div",{style:{paddingTop:"50px",minHeight:"100vh",backgroundColor:"#282c34",color:"white",alignItems:"center",fontFamily:"Cambria, Cochin, Georgia, Times, 'Times New Roman', serif"}},t)):r.a.createElement(A.a,{to:"/login"})}}]),n}(a.Component),we=Object(u.b)((function(e){return{token:e.auth.token,fileDetails:Object(j.a)(e.convert.fileDetails)}}),(function(e){return{onAuthoSignIn:function(){e(le())},onGetFiles:function(t){e(ve(t))}}}))(Se),ke=function(e){Object(L.a)(n,e);var t=Object(F.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(A.a,{to:"/"})}}]),n}(a.Component),Ne=Object(u.b)(null,(function(e){return{onLogout:function(){return e(re())}}}))(ke);var Ce=function(){return r.a.createElement("div",null,r.a.createElement(Y,null,r.a.createElement(A.d,null,r.a.createElement(A.b,{path:"/register",component:ce}),r.a.createElement(A.b,{path:"/login",component:se}),r.a.createElement(A.b,{path:"/convert",component:je}),r.a.createElement(A.b,{path:"/files_converted",component:we}),r.a.createElement(A.b,{path:"/logout",component:Ne}),r.a.createElement(A.b,{path:"/",exact:!0,component:pe}))))},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Ae=Object(c.c)({auth:y,convert:T}),De=Object(c.e)(Ae,Te(Object(c.a)(s.a))),Re=r.a.createElement(u.a,{store:De},r.a.createElement(o.a,null,r.a.createElement(Ce,null)));i.a.render(Re,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/convertor-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/convertor-app","/service-worker.js");Ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()}},[[50,1,2]]]);
//# sourceMappingURL=main.32660e16.chunk.js.map